<app-custom-loader *ngIf="isLoading"></app-custom-loader>

<div class="animated fadeIn">
        <div class="row">
         
          <!--/.col-->
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header">
                <i class="fa fa-user"></i> Users List

                <button class="pull-right btn btn-primary" (click)="goToAddUser()">Add New User</button> 

              </div>
              <div class="card-body">
                <table class="table table-striped">
                  <thead>
                    <tr>
                        <th>Name</th>
                        <th>Role</th>
                        <th>Email</th>
                        <th>Password</th>
                        <th>Joined date</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                        <tr *ngFor=" let user of users  | paginate: { itemsPerPage: limit, currentPage: page,
                            totalItems: total }; let i = index; ">
                            <td>{{ user?.customer_name |titlecase }}</td>
                            <td>{{ user?.customer_type }}</td>
                            <td>{{ user?.email }}</td>
                            <td>{{ user?.password }}</td>
                            <td>{{ user?.created_at |date:'medium'}}</td>
                            <td>
                                    <span *ngIf="user?.active_status==1" class="badge badge-success">Active</span>
                                    <span *ngIf="user?.active_status==0" class="badge badge-danger">Not Active</span>
                            </td>
                            <td><i style="cursor: pointer" class="icon cil-pencil" title="Edit this user" [routerLink]="[
                              '/admin/edit-user/' + user?._id ]"></i>&nbsp;&nbsp;<i style="cursor: pointer" class="icon cil-delete" title="Delete this user" (click)="deleteUser(user?._id)" ></i>
                              &nbsp;&nbsp;
                              <span style="cursor: pointer" title="Change user status" class="badge badge-primary" (click)="updateStatus(user?._id,!user?.active_status)">Change Status</span>
                            </td>
                            </tr>
                            <p *ngIf="users.length === 0" class="text-danger"
                                   style="margin-top: 15px;">No customers found..!</p>
                   
                  </tbody>
                </table>
                <div class="pull-right">
                        <pagination-controls (pageChange)="pageChange($event)"></pagination-controls>
                </div>
                
              </div>
            </div>
          </div>
          <!--/.col-->
        </div>





<!-- <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Start date</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor=" let user of users  | paginate: { itemsPerPage: limit, currentPage: page,
                totalItems: total }; let i = index; ">
                <td>{{ user?.fullname }}</td>
                <td>{{ user?.customer_type }}</td>
                <td>{{ user?.created_at }}</td>
            </tr>
           
    </table>
    <div class="d-flex justify-content-between p-2" *ngIf="total > 0">
            <pagination-controls (pageChange)="pageChange($event)"></pagination-controls>
     </div> -->